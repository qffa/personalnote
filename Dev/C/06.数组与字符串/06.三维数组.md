# 三维数组

## 三维数组的定义

**定义形式**

```
int buf[m][n][k]

int buf[3][2][2]    //eg.
```

**内存结构**

```
/* 三维数组第0个元素：二维数组 */
buf[0][0][0] buf[0][0][1]   //第0个一维小数组

buf[0][1][0] buf[0][1][1]   //第1个一维小数组

/* 三维数组第1个元素：二维数组 */
buf[1][0][0] buf[1][0][1]   //第0个一维小数组

buf[1][1][0] buf[1][1][1]   //第1个一维小数组

/* 三维数组第2个元素：二维数组 */
buf[2][0][0] buf[2][0][1]   //第0个一维小数组

buf[2][1][0] buf[2][1][1]   //第1个一维小数组
```

## 三维数组初始化

### 给定空间初始化

**不初始化**

```
int buf[3][2][2];
//元素的值视内存位置而定
```

**完全初始化**

```
int buf[3][2][2] = {{{0, 1}, {2, 3}}, {{4, 5}, {6, 7}}, {{8, 9}, {10, 11}}};
//or
int buf[3][2][2] = {
    {{0, 1}, {2, 3}},
    {{4, 5}, {6, 7}},
    {{8, 9}, {10, 11}}
};
```

**完全初始化为0**

```
int buf[3][2][2] = {};
//or
int buf[3][2][2] = {0};
```

**部分初始化**

```
int buf[3][2][2] = {
    {{0, 1}},
    {{4, 5}, {6}},
    {{8, 9}}}
};
//未初始化的值为0
```

**个别初始化**

```
int buf[3][2][2] = {[0][0][0]=100, [1][1][0]=200, [2][1][1]=110};
```

### 不给定空间初始化

```
int buf[][2][2] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

//除了int buf[][2][2]之外的写法，int buf[3][][2], int buf[3][2][], int buf[][][2]等都是错的
```

## 赋值

**单个元素赋值**

```
#include <stdio.h>

int main (void) {
    int buf[3][2][2];

    int i=0, j=0, k=0;

    for (i=0; i<3; i++) {
        for (j=0; j<2; j++) {
            for (k=0; k<2; k++) {
                buf[i][j][k] = i + j + k;
                printf("%d\n", buf[i][j][k]);
            }
        }
    }
    return 0;
}
```

**memcpy内存复制**

```
#include <stdio.h>
#include <string.h>


int main (void) {
    int buf1[3][2][2] = {{{0, 1}, {2, 2}}, {{4, 5}, {6, 7}}, {{8, 9}, {10, 11}}};
    int buf2[2][2][2];

    memcpy((void *)buf2, (void *)buf1, sizeof(buf1));

    printf("%d, %d\n", buf2[2][1][1], buf2[0][0][0]);

    return 0;
}
```
