# 调试版与发行版

## 调试版

调试版的目的只有一个，在程序中包含各种调试信息，帮助我们进行程序调试。

**命令行**

- gcc时加上`-g`选项，在程序中包含“单步调试信息”
- gcc 通过`-D`指定`DEBUG`宏，使能debug打印调试宏
- gcc时不要指定`NDEBUG`宏，调试时`assert`断言宏有效
- 其它：暂不关心

**IDE**

- 创建Debug版工程，编译时会动加上“单步调试信息”
- 在IDE中设置`DEBUG`宏，使能debug打印调试宏
- 不要指定`NDEBUG`宏，调试时让`assert`有效
- 其它：暂不关心


## 发行版（Release版）

发行RELEASE版程序时，说明bug都已经被调试找出，此时可以发行了，发行时就需要将各种调试信息全部去掉。

**命令行**

- gcc时指定-s，去掉“单步调试信息”
- gcc时不指定`DEBUG`宏，让所有的“debug打印调试宏”失效
- gcc时通过`-D`指定`NDEBUG`宏，让所`assert`宏也失效
- 其它：比如进行一定程度的优化等，暂时不关心
- 经过以上步骤后，就可以瘦身得到RELEASE版程序，编译时对DEBUG版程序瘦身之后，就能得到RELEASE版程序。

**IDE**

- 将DEBUG工程改为RELEASE工程，编译时会自动删除“单步调试信息”
- 在IDE中不要指定`DEBUG`宏，让所有的“debug打印调试宏”失效
- 在IDE中指定`NDEBUG`宏，让所有`assert`宏失效
- 其它：比如进行一定程度的优化等，暂时不关心
