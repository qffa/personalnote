# 共享内存

共享内存就是OS在物理内存中开辟一大段缓存空间，使用共享内存通信时，进程是直接使用地址来共享读写的。

由于直接使用地址来读写缓存时，效率会更高，所以，如果进程涉及到超大量的数据通信时，必须使用“共享内存”这种直接使用地址操作的通信方式。

## 共享内存原理

多个进程中的虚拟地址空间（堆栈之间的share memory区）映射到同一块物理地址

1. 调用API，让OS在物理内存上开辟出一大段缓存空间
2. 让各自进程空间与开辟出的缓存空间建立映射关系


当多个进程映射并共享同一个空间时，在写数据的时候可能会出现相互干扰。此时往往需要加保护措施，让每个进程在没有操作时不要被别人干扰，等操作完以后，别的进程才能写数据

- 文件锁
- 信号量
