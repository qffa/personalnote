# recv 函数

## 函数介绍

**原型**

```
#include <sys/types.h>
#include <sys/socket.h>

ssize_t recv(int sockfd, void *buf, size_t len, int flags);

ssize_t recvfrom(int sockfd, void *buf, size_t len, int flags,
                 struct sockaddr *src_addr, socklen_t *addrlen);

ssize_t recvmsg(int sockfd, struct msghdr *msg, int flags);
```

**功能**

接收对方发送过来的数据

当`recvfrom`函数的最后两个参数写`NULL`和`0`时，与`recv`的功能完全一样

**返回值**

- 成功：返回发送的字节数
- 失败：返回-1，`errno`被设置

**参数**

- sockfd：通信描述符
- buf：用于接收数据的缓存
- len：buf的大小
- flags：
  - 0：不设置flag
  - MSG_DONTWAIT：非阻塞接收
  - MSG_OOB：接收的是带外数据
