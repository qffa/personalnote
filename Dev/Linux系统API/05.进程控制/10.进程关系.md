# 进程关系

进程间的关系

- 父子关系
- 进程组
- 会话期

## 进程组

多个进程可以在一起组成一个进程组，其中某个进程会担任组长，组长进程的pid就是整个进程组的组ID。

**进程组的生命周期**

- 只要进程中还有一个进程存在，这个进程组就存在
- 进程组从开始被创建，到进程组最后一个进程结束

**进程组举例**

程序fork出很多子进程时，所有的进程会默认的为一组，原始父进程会担任组长。

命令行终端窗口与最开始的父进程建立联系，最原始的父进程结束了，就会将终端交互权还给shell程序

**相关API**

可以调用相关API将一个非组长进程，设置为一个新的进程组组长，或者说加入其它进程组。

## 会话期关系

多个进程组在一起，就组成了会话期

- 会话期可以有一个单独的控制终端（controlling terminal）。
- 与控制终端连接的会话期首进程叫做控制进程（controlling process）。
- 当前与终端交互的进程称为前台进程组。
- 其余进程组称为后台进程组。
- 当终端接口检测到网络连接断开，将挂断信号（SIGHUP）发送给控制进程（会话期首进程）
- 如果会话期首进程终止，则该信号发送到该会话期前台进程组。
- 一个进程退出导致一个孤儿进程组中产生时，如果任意一个孤儿进程组进程处于STOP状态，发送SIGHUP和SIGCONT信号到该进程组中所有进程。
