# AJAX

2005年，Asynchronous Javascript And Xml

异步

## AJAJ 特点

**优点**

- 不需要插件支持
- 用户体验极佳（不需要刷新页面）
- 提升web应用性能
- 减轻服务器和带宽的负担

**缺点**

- 前进、后退功能被破坏
- 搜索引擎支持度不够
- 老版本浏览器对XMLHttpRequest对象支持不足（IE5）

## 同步异步

**同步**

```
做饭：买菜 -> 洗菜 -> 炒菜 -> 吃饭
```
**异步**

```
去饭馆：
点菜 -> 做自己的事 -> 上菜了，吃饭
厨师做饭 -> 服务员上菜
```

异步代码：

```js
let a = 10;
//异步代码
setTimeout(()=>{
  a++;
}, 0);

console.log(a);

//output 10
```

*异步代码总是在同步之后执行*

## http状态码

- 1xx：表示连接继续
- 2xx：各种成功
- 3xx：重定向
- 4xx：各种客户端错误
- 5xx：各种服务端错误


## ajax类比


顾客 ---- 页面
服务员 ---- AJAX
厨房 ---- 后台


| 顾客吃饭                 | AJAX                                                                                                                           |
|:------------------------ |:------------------------------------------------------------------------------------------------------------------------------ |
| 点餐                     | 准备页面请求，创建XMLHTTPRequest对象                                                                                           |
| 服务员将菜单通知后厨     | 使用XMLHttpRequest对象的open()和send()方法发送资源请求给服务器                                                                 |
| 后台初始开始做菜         | 服务器运算                                                                                                                     |
| 菜好了，服务员取菜、上菜 | onreadystatecahnge监听事件，状态改变时， 发送数据会客户端，使用XMLHttpRequest对象的responseText或responseXML属性获得服务器响应 |
