# 二维数组

## 二维数组的定义

**二维数组的定义形式**

```
int buf[m][n];
int buf[3][4];    // eg.
```

**二维数组的内存结构**

二维数组是个元素为一维数组的一维数组，遵循一维数组内存结构

```
buf[0][0] buf[0][1] buf[0][2] buf[0][3] //第0个一维小数组

buf[1][0] buf[1][1] buf[1][2] buf[1][3] //第1个一维小数组

buf[2][0] buf[2][1] buf[2][2] buf[2][3] //第2个一维小数组
```

## 二维数组初始化

### 不初始化

```
int[2][2];  //没有初始化
```
每个元素的值视数组所在内存位置而定

### 给定空间初始化

**完全初始化**

```
int a[2][2] = {0, 1, 2, 3};
//or
int a[2][2] = {{0, 1}, {2, 3}};
```

**完全初始化为0**

```
int a[2][2] = {};
//or
int a[2][2] = {0};
```

**部分初始化**

```
#include <stdio.h>

int main(void) {

    int a[2][2] = {{0, 1}, {2, 3}};  //完全初始化

    int m[2][2] = {1,2};    //未被初始化的元素置零

    int b[2][2] = {{0}, {2,3}};
    printf("%d, %d, %d, %d", b[0][0], b[0][1], b[1][0], b[1][1]);

    int c[2][2] = {,,3,};   //wrong

}
```

**个别初始化**

```
int a[2][2] = {[1][0]=10, [2][0]=29};  //未初始化的其他元素置零
```

### 不给定空间初始化

```
int main(void) {
    int a[][2] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};  //正确

    int a[2][] = {1,2,3,4,5,6}; //错误写法，编译器不支持

    int a[][] = {1,2,3,4,5,6};  //更不对了
}
```

## 二维数组的赋值

与一维数组一样，不能整体赋值，只能单个元素赋值，或者使用memcpy

**单个元素赋值**

```
#include <stdio.h>

int a[3][3];

int main(void) {
    int i = 0;
    int j = 0;

    for (i=0; i<3; i++) {
        for (j=0; j<3; j++){
            a[i][j] = i + j;
            printf("^ a[%d][%d] = %d\n", i, j, a[i][j]);
        }
    }

    return 0;
}
```

**memcpy方式**

```
#include <stdio.h>
#include <string.h>


int main (void) {

    int buf1[2][2] = {{0, 1}, {2, 3}};
    int buf2[2][2];

    memcpy((void *)&buf2, (void *)&buf1, sizeof(buf1));

    printf("%d, %d\n", buf2[0][1], buf2[1][1]);

    return 0;

}
```
